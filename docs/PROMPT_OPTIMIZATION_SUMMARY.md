# AI Prompt ä¼˜åŒ–æ€»ç»“ - æ­¢æŸä¸æ­¢ç›ˆå†²çªè§£å†³

## ğŸ“… åˆ›å»ºæ—¥æœŸ

2025-01-XX

## ğŸ¯ ä¼˜åŒ–ç›®æ ‡

è§£å†³ AI Agent åœ¨æ‰§è¡Œåˆ†æ‰¹æ­¢ç›ˆå’Œç§»åŠ¨æ­¢æŸæ—¶å¯èƒ½äº§ç”Ÿçš„å†²çªé—®é¢˜,ç¡®ä¿å·¥å…·è°ƒç”¨é€»è¾‘æ¸…æ™°ã€ä¸é‡å¤æ‰§è¡Œã€‚

---

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. **æ˜ç¡®çš„å·¥å…·è°ƒç”¨è§„åˆ™**

åœ¨ `/src/agents/tradingAgent.ts` çš„ prompt ç”Ÿæˆä¸­,å·²æ·»åŠ æ¸…æ™°çš„"å·¥å…·è°ƒç”¨è§„åˆ™"ç« èŠ‚:

```bash
âš ï¸ é‡è¦:æ­¢æŸç®¡ç†çš„å·¥å…·è°ƒç”¨è§„åˆ™

è§„åˆ™1:åˆ†æ‰¹æ­¢ç›ˆä¼˜å…ˆ
- æ¯ä¸ªå‘¨æœŸé¦–å…ˆæ£€æŸ¥ checkPartialTakeProfitOpportunity()
- å¦‚æœæ‰§è¡Œäº† executePartialTakeProfit(),è¯¥æŒä»“æœ¬å‘¨æœŸä¸è¦å†è°ƒç”¨ updateTrailingStop()
- åŸå› :executePartialTakeProfit å·²ç»è‡ªåŠ¨ç§»åŠ¨äº†æ­¢æŸ

è§„åˆ™2:ç§»åŠ¨æ­¢æŸæ˜¯å¯é€‰ä¼˜åŒ–(ä»…é€‚ç”¨äºç§‘å­¦æ­¢æŸæ¨¡å¼)
- updateTrailingStop() ä»…ç”¨äºç›ˆåˆ©ä½†æœªè¾¾åˆ°åˆ†æ‰¹æ­¢ç›ˆé˜ˆå€¼çš„æŒä»“
- ä¸æ˜¯æ¯ä¸ªå‘¨æœŸéƒ½å¿…é¡»è°ƒç”¨
- ä¸»è¦ç›®çš„æ˜¯åœ¨åˆ†æ‰¹æ­¢ç›ˆä¹‹é—´æä¾›é¢å¤–ä¿æŠ¤

è§„åˆ™3:ä¸è¦é‡å¤è®¡ç®— R-Multiple
- R-Multiple ç”±å·¥å…·è‡ªåŠ¨è®¡ç®—,AI ä¸è¦å°è¯•æ‰‹åŠ¨è®¡ç®—
- å·¥å…·ä¼šè€ƒè™‘åšå¤š/åšç©ºæ–¹å‘ã€æ æ†ç­‰å¤æ‚å› ç´ 
- AI åªéœ€è¦è°ƒç”¨å·¥å…·å¹¶æ ¹æ®è¿”å›ç»“æœå†³ç­–

è§„åˆ™4:æ­¢æŸå•ç”±äº¤æ˜“æ‰€è‡ªåŠ¨è§¦å‘
- å¼€ä»“æ—¶å·²è®¾ç½®æ­¢æŸæ¡ä»¶å•,AI æ— éœ€é¢‘ç¹æ£€æŸ¥
- åªæœ‰åœ¨æ˜ç¡®çš„è¶‹åŠ¿åè½¬æ—¶æ‰è€ƒè™‘ä¸»åŠ¨å¹³ä»“
- "æ¥è¿‘æ­¢æŸçº¿"ä¸æ˜¯ä¸»åŠ¨å¹³ä»“çš„ç†ç”±
```

### 2. **æ¸…æ™°çš„å†³ç­–æµç¨‹**

ä¸ºç§‘å­¦æ­¢æŸæ¨¡å¼è®¾è®¡äº†ä¸‰æ­¥å†³ç­–æµç¨‹:

```bash
æ­¥éª¤1ï¸âƒ£:æ£€æŸ¥åˆ†æ‰¹æ­¢ç›ˆæœºä¼š(é¦–è¦ä»»åŠ¡,æ¯ä¸ªæŒä»“å¿…æŸ¥)
â”œâ”€ è°ƒç”¨ checkPartialTakeProfitOpportunity() æŸ¥çœ‹æ‰€æœ‰æŒä»“
â”œâ”€ å·¥å…·è¿”å› canExecute=true â†’ ç«‹å³è°ƒç”¨ executePartialTakeProfit(symbol, stage)
â”œâ”€ å·¥å…·è‡ªåŠ¨å®Œæˆ:
â”‚   â€¢ è®¡ç®—å½“å‰ R-Multiple(æ— éœ€ AI æ‰‹åŠ¨è®¡ç®—)
â”‚   â€¢ åˆ†æ ATR æ³¢åŠ¨ç‡åŠ¨æ€è°ƒæ•´é˜ˆå€¼(0.8x-1.5x)
â”‚   â€¢ æ‰§è¡Œåˆ†æ‰¹å¹³ä»“(stage1/2/3)
â”‚   â€¢ è‡ªåŠ¨ç§»åŠ¨æ­¢æŸåˆ°ä¿æœ¬æˆ–æ›´é«˜
â””â”€ âš ï¸ æ‰§è¡Œå:è¯¥æŒä»“æœ¬å‘¨æœŸè·³è¿‡æ­¥éª¤2ï¸âƒ£

æ­¥éª¤2ï¸âƒ£:ä¼˜åŒ–ç§»åŠ¨æ­¢æŸ(ä»…å¯¹æœªæ‰§è¡Œåˆ†æ‰¹æ­¢ç›ˆçš„ç›ˆåˆ©æŒä»“,å¯é€‰)
â”œâ”€ æ¡ä»¶:ç›ˆåˆ© â‰¥ +X% ä½†æœªè¾¾åˆ°åˆ†æ‰¹æ­¢ç›ˆé˜ˆå€¼
â”œâ”€ è°ƒç”¨ updateTrailingStop() æ£€æŸ¥æ˜¯å¦åº”è¯¥ä¸Šç§»æ­¢æŸ
â”œâ”€ è¿”å› shouldUpdate=true â†’ è°ƒç”¨ updatePositionStopLoss() æ›´æ–°äº¤æ˜“æ‰€è®¢å•
â””â”€ è¯´æ˜:è¿™æ˜¯å¯é€‰ä¼˜åŒ–,ä¸æ˜¯å¿…é¡»æ“ä½œ

æ­¥éª¤3ï¸âƒ£:æ£€æŸ¥å¹³ä»“è§¦å‘(æœ€åæ£€æŸ¥)
â”œâ”€ å³°å€¼å›æ’¤ â‰¥ Y% â†’ å±é™©ä¿¡å·,è€ƒè™‘å¹³ä»“
â”œâ”€ è¶‹åŠ¿æ˜ç¡®åè½¬(3+æ—¶é—´æ¡†æ¶) â†’ è€ƒè™‘å¹³ä»“
â”œâ”€ æŒä»“æ—¶é—´ â‰¥ 36å°æ—¶ â†’ å¼ºåˆ¶å¹³ä»“
â””â”€ âš ï¸ "æ¥è¿‘æ­¢æŸçº¿"ä¸æ˜¯ä¸»åŠ¨å¹³ä»“ç†ç”±(äº¤æ˜“æ‰€æ¡ä»¶å•ä¼šè‡ªåŠ¨è§¦å‘)
```

### 3. **å·¥å…·æè¿°ä¼˜åŒ–**

å„ä¸ªå·¥å…·çš„ `description` å­—æ®µéƒ½å·²æ˜ç¡®è¯´æ˜:

- **`checkPartialTakeProfitOpportunity`**: æ¯ä¸ªäº¤æ˜“å‘¨æœŸæ£€æŸ¥ä¸€æ¬¡,åˆ¤æ–­æ˜¯å¦è¾¾åˆ°åˆ†æ‰¹æ­¢ç›ˆæ¡ä»¶
- **`executePartialTakeProfit`**: æ‰§è¡Œåˆ†æ‰¹å¹³ä»“,è‡ªåŠ¨ç§»åŠ¨æ­¢æŸ
- **`updateTrailingStop`**: å¯é€‰çš„ç§»åŠ¨æ­¢æŸä¼˜åŒ–,ä¸æ˜¯æ¯å‘¨æœŸå¿…é¡»æ‰§è¡Œ
- **`updatePositionStopLoss`**: å®é™…æ›´æ–°äº¤æ˜“æ‰€è®¢å•

### 4. **R-Multiple è‡ªåŠ¨è®¡ç®—**

- æ˜ç¡®å‘ŠçŸ¥ AI: R-Multiple ç”±å·¥å…·è‡ªåŠ¨è®¡ç®—,æ— éœ€æ‰‹åŠ¨è®¡ç®—
- å·¥å…·ä¼šè€ƒè™‘:
  - åšå¤š/åšç©ºæ–¹å‘
  - æ æ†å€æ•°
  - å½“å‰ä»·æ ¼ã€å…¥åœºä»·ã€æ­¢æŸä»·
  - å¸‚åœºæ³¢åŠ¨ç‡(ATR)åŠ¨æ€è°ƒæ•´

---

## ğŸ” æ½œåœ¨é£é™©ç‚¹åˆ†æ

### é£é™©1: AI å¯èƒ½åœ¨åŒä¸€å‘¨æœŸè°ƒç”¨å¤šæ¬¡å·¥å…·

**åœºæ™¯:**

```bash
1. AI è°ƒç”¨ checkPartialTakeProfitOpportunity() â†’ è¿”å› BTC å¯ä»¥æ‰§è¡Œ stage1
2. AI è°ƒç”¨ executePartialTakeProfit('BTC', '1') â†’ æ‰§è¡ŒæˆåŠŸ,æ­¢æŸå·²ç§»è‡³æˆæœ¬ä»·
3. AI åœ¨åŒä¸€å‘¨æœŸå†æ¬¡è°ƒç”¨ updateTrailingStop('BTC') â†’ âŒ é‡å¤ç§»åŠ¨æ­¢æŸ
```

**å½“å‰é˜²æŠ¤æªæ–½:**

- Prompt æ˜ç¡®è§„åˆ™1: "å¦‚æœæ‰§è¡Œäº† executePartialTakeProfit(),è¯¥æŒä»“æœ¬å‘¨æœŸä¸è¦å†è°ƒç”¨ updateTrailingStop()"
- æ­¥éª¤1ï¸âƒ£ æ˜ç¡®æ ‡æ³¨: "æ‰§è¡Œå:è¯¥æŒä»“æœ¬å‘¨æœŸè·³è¿‡æ­¥éª¤2ï¸âƒ£"

**å»ºè®®åŠ å¼º:**

- âœ… åœ¨å·¥å…·å±‚é¢å¢åŠ çŠ¶æ€æ£€æŸ¥(è§ä¸‹æ–‡"å»ºè®®ä¼˜åŒ–")

### é£é™©2: AI å¯èƒ½è¯¯åˆ¤"æ¥è¿‘æ­¢æŸçº¿"è€Œä¸»åŠ¨å¹³ä»“

**åœºæ™¯:**

```bash
æŒä»“ç›ˆäº: -8%
æ­¢æŸçº¿: -10%
AI åˆ¤æ–­: "å¤ªæ¥è¿‘æ­¢æŸäº†,ä¸»åŠ¨å¹³ä»“å§"
```

**å½“å‰é˜²æŠ¤æªæ–½:**

- Prompt æ˜ç¡®è§„åˆ™4: "æ­¢æŸå•ç”±äº¤æ˜“æ‰€è‡ªåŠ¨è§¦å‘,AI æ— éœ€é¢‘ç¹æ£€æŸ¥"
- æ­¥éª¤3ï¸âƒ£ æ˜ç¡®: "'æ¥è¿‘æ­¢æŸçº¿'ä¸æ˜¯ä¸»åŠ¨å¹³ä»“ç†ç”±"

**å»ºè®®åŠ å¼º:**

- âœ… æ·»åŠ æ›´å¤šæ¡ˆä¾‹è¯´æ˜(è§ä¸‹æ–‡)

### é£é™©3: æ³¢åŠ¨ç‡è°ƒæ•´å¯èƒ½å¯¼è‡´é˜ˆå€¼æ··æ·†

**åœºæ™¯:**

```bash
ç­–ç•¥é…ç½®: 1R = 1.0
å½“å‰æ³¢åŠ¨: é«˜æ³¢åŠ¨ â†’ åŠ¨æ€è°ƒæ•´ä¸º 0.8R
AI æ€ç»´: "é…ç½®è¯´1Ræ‰èƒ½æ­¢ç›ˆ,ç°åœ¨åªæœ‰0.9R,ä¸èƒ½æ‰§è¡Œ"
å®é™…: å·¥å…·ä¼šè‡ªåŠ¨åˆ¤æ–­ 0.9R â‰¥ 0.8R(è°ƒæ•´å),å¯ä»¥æ‰§è¡Œ
```

**å½“å‰é˜²æŠ¤æªæ–½:**

- Prompt è§„åˆ™3: "R-Multiple ç”±å·¥å…·è‡ªåŠ¨è®¡ç®—,AI ä¸è¦å°è¯•æ‰‹åŠ¨è®¡ç®—"
- `checkPartialTakeProfitOpportunity` è¿”å›ç»“æœåŒ…å«åŠ¨æ€è°ƒæ•´åçš„é˜ˆå€¼

**å»ºè®®åŠ å¼º:**

- âœ… åœ¨æç¤ºè¯ä¸­æ·»åŠ å…·ä½“æ¡ˆä¾‹(è§ä¸‹æ–‡)

---

## ğŸ’¡ å»ºè®®çš„è¿›ä¸€æ­¥ä¼˜åŒ–

### ä¼˜åŒ–1: å·¥å…·å±‚é¢å¢åŠ "å†·å´æœŸ"æ£€æŸ¥

åœ¨ `updateTrailingStopTool` æ‰§è¡Œæ—¶,æ£€æŸ¥è¯¥æŒä»“æ˜¯å¦åˆšæ‰§è¡Œè¿‡åˆ†æ‰¹æ­¢ç›ˆ:

```typescript
// åœ¨ stopLossManagement.ts çš„ updateTrailingStopTool.execute() ä¸­æ·»åŠ 
const recentPartialTakeProfit = await dbClient.execute({
  sql: `SELECT timestamp FROM partial_take_profit_history 
        WHERE symbol = ? AND status = 'completed' 
        ORDER BY timestamp DESC LIMIT 1`,
  args: [symbol],
});

if (recentPartialTakeProfit.rows.length > 0) {
  const lastExecutionTime = new Date(recentPartialTakeProfit.rows[0].timestamp as string);
  const now = new Date();
  const minutesSinceLastExecution = (now.getTime() - lastExecutionTime.getTime()) / (1000 * 60);
  
  // å¦‚æœåœ¨æœ€è¿‘5åˆ†é’Ÿå†…æ‰§è¡Œè¿‡åˆ†æ‰¹æ­¢ç›ˆ,æ‹’ç»ç§»åŠ¨æ­¢æŸ
  if (minutesSinceLastExecution < 5) {
    return {
      success: false,
      message: `${symbol} åœ¨ ${minutesSinceLastExecution.toFixed(1)} åˆ†é’Ÿå‰åˆšæ‰§è¡Œè¿‡åˆ†æ‰¹æ­¢ç›ˆ,æœ¬å‘¨æœŸæ— éœ€å†æ¬¡è°ƒæ•´æ­¢æŸ`,
    };
  }
}
```

**ä¼˜ç‚¹:**

- å³ä½¿ AI è¿å prompt è§„åˆ™,å·¥å…·å±‚ä¹Ÿä¼šæ‹’ç»æ‰§è¡Œ
- åŒé‡ä¿æŠ¤,æ›´å®‰å…¨

### ä¼˜åŒ–2: æ·»åŠ å…·ä½“æ¡ˆä¾‹åˆ° Prompt

åœ¨å·¥å…·è°ƒç”¨è§„åˆ™åé¢,æ·»åŠ "æ­£ç¡®æµç¨‹æ¡ˆä¾‹"å’Œ"é”™è¯¯æµç¨‹æ¡ˆä¾‹":

```typescript
// åœ¨ tradingAgent.ts çš„ prompt ç”Ÿæˆä¸­æ·»åŠ 
prompt += `
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š å·¥å…·è°ƒç”¨æ¡ˆä¾‹è¯´æ˜

ã€æ­£ç¡®æ¡ˆä¾‹1: åˆ†æ‰¹æ­¢ç›ˆä¼˜å…ˆã€‘
1. è°ƒç”¨ checkPartialTakeProfitOpportunity()
   è¿”å›: { "BTC": { "currentR": 1.2, "canExecuteStages": [1] } }
2. è°ƒç”¨ executePartialTakeProfit('BTC', '1')
   è¿”å›: æˆåŠŸ,å¹³ä»“33.33%,æ­¢æŸå·²ç§»è‡³æˆæœ¬ä»·
3. âœ… æœ¬å‘¨æœŸç»“æŸ,ä¸å†è°ƒç”¨ updateTrailingStop('BTC')
4. âœ… ä¸‹ä¸ªå‘¨æœŸé‡æ–°æ£€æŸ¥ checkPartialTakeProfitOpportunity()

ã€æ­£ç¡®æ¡ˆä¾‹2: ç§»åŠ¨æ­¢æŸä¼˜åŒ–ã€‘
1. è°ƒç”¨ checkPartialTakeProfitOpportunity()
   è¿”å›: { "BTC": { "currentR": 0.8, "canExecuteStages": [] } }
2. æŒä»“ç›ˆåˆ© +6%,ä½†æœªè¾¾åˆ° 1R é˜ˆå€¼
3. âœ… è°ƒç”¨ updateTrailingStop('BTC')
   è¿”å›: å»ºè®®ç§»åŠ¨æ­¢æŸè‡³ +3%
4. âœ… è°ƒç”¨ updatePositionStopLoss('BTC', newStopLoss)

ã€é”™è¯¯æ¡ˆä¾‹1: é‡å¤ç§»åŠ¨æ­¢æŸã€‘
1. è°ƒç”¨ executePartialTakeProfit('BTC', '1') â†’ âœ… æˆåŠŸ
2. âŒ å†æ¬¡è°ƒç”¨ updateTrailingStop('BTC')
   â†’ é”™è¯¯! å·²ç»ç§»åŠ¨è¿‡æ­¢æŸäº†

ã€é”™è¯¯æ¡ˆä¾‹2: è¯¯åˆ¤æ¥è¿‘æ­¢æŸã€‘
1. æŒä»“ç›ˆäº: -8%, æ­¢æŸçº¿: -10%
2. âŒ AI ä¸»åŠ¨è°ƒç”¨ closePosition()
   ç†ç”±: "å¤ªæ¥è¿‘æ­¢æŸäº†"
   â†’ é”™è¯¯! äº¤æ˜“æ‰€ä¼šè‡ªåŠ¨è§¦å‘æ­¢æŸå•,æ— éœ€ä¸»åŠ¨å¹³ä»“

ã€æ­£ç¡®æ¡ˆä¾‹3: æ³¢åŠ¨ç‡åŠ¨æ€è°ƒæ•´ã€‘
1. ç­–ç•¥é…ç½®: 1R é˜ˆå€¼
2. å½“å‰å¸‚åœº: é«˜æ³¢åŠ¨(ATR=3.5%)
3. å·¥å…·è‡ªåŠ¨è°ƒæ•´: 1R â†’ 0.8R(é™ä½é˜ˆå€¼)
4. æŒä»“çŠ¶æ€: 0.9R
5. âœ… checkPartialTakeProfitOpportunity() è¿”å› canExecute=true
6. âœ… AI ç›´æ¥è°ƒç”¨ executePartialTakeProfit(),ä¸è¦è‡ªå·±åˆ¤æ–­"è¿˜æ²¡åˆ°1R"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
`;
```

### ä¼˜åŒ–3: æ·»åŠ çŠ¶æ€è·Ÿè¸ªæ—¥å¿—

åœ¨ `executePartialTakeProfit` æˆåŠŸå,è®°å½•åˆ°å†…å­˜çŠ¶æ€:

```typescript
// å…¨å±€çŠ¶æ€è·Ÿè¸ª(å¯é€‰,ä½¿ç”¨å†…å­˜æˆ–Redis)
const recentExecutions = new Map<string, number>(); // symbol -> timestamp

export const partialTakeProfitTool = createTool({
  // ...existing code...
  execute: async ({ symbol, stage }) => {
    // ...existing logic...
    
    // æ‰§è¡ŒæˆåŠŸåè®°å½•
    if (result.success) {
      recentExecutions.set(symbol, Date.now());
      
      // 5åˆ†é’Ÿåè‡ªåŠ¨æ¸…é™¤
      setTimeout(() => {
        recentExecutions.delete(symbol);
      }, 5 * 60 * 1000);
    }
    
    return result;
  },
});

export const updateTrailingStopTool = createTool({
  // ...existing code...
  execute: async ({ symbol }) => {
    // æ£€æŸ¥æ˜¯å¦åˆšæ‰§è¡Œè¿‡åˆ†æ‰¹æ­¢ç›ˆ
    const lastExecution = recentExecutions.get(symbol);
    if (lastExecution && (Date.now() - lastExecution) < 5 * 60 * 1000) {
      return {
        success: false,
        message: `${symbol} åœ¨æœ€è¿‘5åˆ†é’Ÿå†…åˆšæ‰§è¡Œè¿‡åˆ†æ‰¹æ­¢ç›ˆ,æœ¬å‘¨æœŸæ— éœ€ç§»åŠ¨æ­¢æŸ`,
      };
    }
    
    // ...existing logic...
  },
});
```

---

## ğŸ¯ ä¼˜å…ˆçº§å»ºè®®

### é«˜ä¼˜å…ˆçº§ (ç«‹å³å®æ–½)

- âœ… **ä¼˜åŒ–2: æ·»åŠ æ¡ˆä¾‹åˆ° Prompt** - æœ€ç›´æ¥ã€æœ€ä½é£é™©çš„æ”¹è¿›
- âœ… **ä¼˜åŒ–1: å·¥å…·å±‚å†·å´æœŸæ£€æŸ¥** - åŒé‡ä¿æŠ¤,é˜²æ­¢è¯¯æ“ä½œ

### ä¸­ä¼˜å…ˆçº§ (å¯é€‰)

- â° **ä¼˜åŒ–3: çŠ¶æ€è·Ÿè¸ªæ—¥å¿—** - é€‚ç”¨äºé«˜é¢‘äº¤æ˜“åœºæ™¯

### ä½ä¼˜å…ˆçº§ (è§‚å¯Ÿåå†³å®š)

- ğŸ“Š **ç›‘æ§ä¸åˆ†æ** - åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸€æ®µæ—¶é—´,æ”¶é›† AI çš„å®é™…è°ƒç”¨æ¨¡å¼
- ğŸ”„ **A/B æµ‹è¯•** - å¯¹æ¯”ä¼˜åŒ–å‰åçš„è¡¨ç°

---

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒç›‘æ§ä»¥ä¸‹æŒ‡æ ‡:

1. **å·¥å…·è°ƒç”¨é¢‘ç‡**
   - `checkPartialTakeProfitOpportunity` è°ƒç”¨æ¬¡æ•°/å‘¨æœŸ
   - `executePartialTakeProfit` æˆåŠŸ/å¤±è´¥æ¬¡æ•°
   - `updateTrailingStop` è°ƒç”¨æ¬¡æ•°(æ˜¯å¦è¿‡äºé¢‘ç¹)

2. **å†²çªæ£€æµ‹**
   - åŒä¸€å‘¨æœŸå†…,åŒä¸€æŒä»“è°ƒç”¨ `executePartialTakeProfit` + `updateTrailingStop` çš„æ¬¡æ•°
   - åˆ†æ‰¹æ­¢ç›ˆåç«‹å³(5åˆ†é’Ÿå†…)è°ƒç”¨ç§»åŠ¨æ­¢æŸçš„æ¬¡æ•°

3. **æ­¢æŸç§»åŠ¨è®°å½•**
   - æ¯æ¬¡æ­¢æŸç§»åŠ¨çš„åŸå› (åˆ†æ‰¹æ­¢ç›ˆ vs ç§»åŠ¨æ­¢æŸ)
   - æ­¢æŸç§»åŠ¨çš„å¹…åº¦å’Œé¢‘ç‡

4. **è¯¯æ“ä½œç»Ÿè®¡**
   - "æ¥è¿‘æ­¢æŸçº¿"å¯¼è‡´ä¸»åŠ¨å¹³ä»“çš„æ¬¡æ•°
   - AI å°è¯•æ‰‹åŠ¨è®¡ç®— R-Multiple çš„æ—¥å¿—(å¦‚æœ‰)

---

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µ: ç«‹å³ä¼˜åŒ– (ä»Šå¤©å®Œæˆ)

- [ ] åœ¨ `tradingAgent.ts` æ·»åŠ æ¡ˆä¾‹è¯´æ˜(ä¼˜åŒ–2)
- [ ] åœ¨ `stopLossManagement.ts` æ·»åŠ å†·å´æœŸæ£€æŸ¥(ä¼˜åŒ–1)
- [ ] æ›´æ–° `/docs/PROMPT_OPTIMIZATION_SUMMARY.md`(æœ¬æ–‡æ¡£)

### ç¬¬äºŒé˜¶æ®µ: æµ‹è¯•éªŒè¯ (1-2å¤©)

- [ ] åœ¨æµ‹è¯•ç¯å¢ƒè¿è¡Œ,è§‚å¯Ÿ AI è¡Œä¸º
- [ ] æ£€æŸ¥æ—¥å¿—,ç¡®è®¤æ²¡æœ‰é‡å¤è°ƒç”¨
- [ ] éªŒè¯åˆ†æ‰¹æ­¢ç›ˆæµç¨‹æ­£å¸¸

### ç¬¬ä¸‰é˜¶æ®µ: ç”Ÿäº§éƒ¨ç½² (3-5å¤©å)

- [ ] éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
- [ ] å¯ç”¨ç›‘æ§æŒ‡æ ‡æ”¶é›†
- [ ] æŒç»­è§‚å¯Ÿ1å‘¨

### ç¬¬å››é˜¶æ®µ: æŒç»­æ”¹è¿› (1å‘¨å)

- [ ] åˆ†æç›‘æ§æ•°æ®
- [ ] æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ prompt æˆ–å·¥å…·é€»è¾‘
- [ ] è€ƒè™‘æ˜¯å¦éœ€è¦å®æ–½ä¼˜åŒ–3

---

## ğŸ“ æ€»ç»“

å½“å‰çš„ prompt ä¼˜åŒ–å·²ç»åšäº†å¾ˆå¥½çš„åŸºç¡€å·¥ä½œ:

- âœ… æ˜ç¡®çš„å·¥å…·è°ƒç”¨è§„åˆ™
- âœ… æ¸…æ™°çš„å†³ç­–æµç¨‹
- âœ… å¼ºè°ƒ R-Multiple è‡ªåŠ¨è®¡ç®—

å»ºè®®çš„è¿›ä¸€æ­¥ä¼˜åŒ–:

- ğŸ¯ **ä¼˜åŒ–1 & 2** æ˜¯æœ€å€¼å¾—ç«‹å³å®æ–½çš„
- ğŸ“Š **ç›‘æ§æŒ‡æ ‡** å¯ä»¥å¸®åŠ©å‘ç°æ½œåœ¨é—®é¢˜
- ğŸ”„ **æŒç»­è¿­ä»£** æ ¹æ®å®é™…è¿è¡Œæƒ…å†µè°ƒæ•´

**æ ¸å¿ƒåŸåˆ™:** æ—¢è¦ä¿¡ä»» AI çš„ç†è§£èƒ½åŠ›,ä¹Ÿè¦åœ¨å·¥å…·å±‚æä¾›å¿…è¦çš„ä¿æŠ¤æœºåˆ¶ã€‚
